
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Breast Cancer Risk Calculator</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        h1 { color: #a50000; }
        label { display: block; margin: 10px 0 5px; }
        input[type="number"], input[type="text"], select { width: 100%; padding: 8px; margin-bottom: 10px; }
        .result { margin-top: 20px; padding: 15px; border: 1px solid #ccc; background: #f9f9f9; }
        .caveat { margin-top: 20px; font-size: 0.9em; color: #555; }
    </style>
</head>
<body>
    <h1>Breast Cancer Risk Calculator</h1>
    <p>This tool estimates your lifetime risk of breast cancer based on known medical and lifestyle factors. It is intended for educational purposes only and should be used in consultation with a healthcare provider.</p>

    <form id="riskForm">
        <label for="age">Age</label>
        <input type="number" id="age" name="age" min="18" max="100" required>

        <label for="vitaminD">Vitamin D Level (ng/mL)</label>
        <input type="number" id="vitaminD" name="vitaminD">

        <label for="exercise">Exercise: ≥150 min/week moderate or ≥75 min/week vigorous?</label>
        <select id="exercise" name="exercise">
            <option value="no">No</option>
            <option value="yes">Yes</option>
        </select>

        <label for="alcohol">Alcohol (drinks/week)</label>
        <input type="number" id="alcohol" name="alcohol" min="0">

        <label for="bmi">BMI</label>
        <input type="number" id="bmi" name="bmi" step="0.1">

        <button type="button" onclick="calculateRisk()">Calculate Risk</button>
    </form>

    <div class="result" id="result"></div>
    <div class="caveat">
        <strong>Note:</strong> While the calculator may display negative or very low risk percentages as a result of multiple positive lifestyle factors, it is not biologically plausible for any woman to have zero or negative lifetime risk. These results are illustrative and should be interpreted with caution. The lowest scientifically observed risk is approximately 3–5%.
    </div>

    <script>
        function calculateRisk() {
            const age = parseInt(document.getElementById('age').value);
            const vitaminD = parseFloat(document.getElementById('vitaminD').value);
            const exercise = document.getElementById('exercise').value;
            const alcohol = parseFloat(document.getElementById('alcohol').value);
            const bmi = parseFloat(document.getElementById('bmi').value);

            let baseRisk = 12; // average baseline lifetime risk %
            let riskAdjustment = 0;

            // Vitamin D benefit
            if (vitaminD >= 50 && vitaminD <= 80) {
                riskAdjustment -= 3; // 25% of base 12% = 3%
            }

            // Exercise benefit
            if (exercise === "yes") {
                riskAdjustment -= 2.4; // 20% reduction of base risk
            }

            // Alcohol increases risk
            if (alcohol > 0) {
                riskAdjustment += alcohol * 0.5; // 0.5% increase per drink
            }

            // BMI factor
            if (bmi < 25) {
                riskAdjustment -= 1;
            } else if (bmi >= 30) {
                riskAdjustment += 2;
            }

            const adjustedRisk = baseRisk + riskAdjustment;
            const relativeRisk = (adjustedRisk / baseRisk) * 10;

            document.getElementById("result").innerHTML = `
                <strong>Estimated Lifetime Risk:</strong> ${adjustedRisk.toFixed(1)}%<br>
                <strong>Relative Risk Score (0–10):</strong> ${relativeRisk.toFixed(1)}
            `;
        }
    </script>
</body>
</html>
