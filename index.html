
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Breast Cancer Risk + PHQ-9 Calculator</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; max-width: 900px; margin: auto; }
    label { display: block; margin-top: 10px; }
    input[type="number"], input[type="checkbox"] { margin-top: 5px; width: 100px; }
    textarea { width: 100%; height: 60px; }
    .output { margin-top: 20px; font-weight: bold; }
    .low { color: green; }
    .moderate { color: orange; }
    .high { color: red; }
  </style>
</head>
<body>
  <h1>ðŸŽ“ Breast Cancer Risk & PHQ-9 Depression Score Tool</h1>
  <form id="riskForm">
    <label>Age: <input type="number" id="age" value="56"></label>
    <label>Height (inches): <input type="number" id="height" value="65"></label>
    <label>Weight (lbs): <input type="number" id="weight" value="180"></label>
    <label>A1C (Hemoglobin A1C): <input type="number" id="a1c" step="0.1" value="5.4"></label>
    <label>Systolic Blood Pressure (BP): <input type="number" id="bp" value="115"></label>
    <label>Vitamin D (ng/mL): <input type="number" id="vitd" step="0.1" value="72"></label>

    <label><input type="checkbox" id="dense"> Dense Breasts</label>
    <label><input type="checkbox" id="family"> First-Degree Relative with Breast Cancer</label>
    <label><input type="checkbox" id="nulliparous"> Nulliparous (never given birth)</label>
    <label><input type="checkbox" id="hrt"> HRT (Hormone Replacement Therapy)</label>
    <label>Age at Menarche: <input type="number" id="menarche" value="13"></label>
    <label>Alcohol Drinks per Week: <input type="number" id="alcohol" value="14"></label>

    <h3>PHQ-9 Depression Screening</h3>
    <p>Over the last 2 weeks, how often have you been bothered by the following problems?</p>
    <label>1. Little interest or pleasure in doing things: <input type="number" id="q1" min="0" max="3" value="0"></label>
    <label>2. Feeling down, depressed, or hopeless: <input type="number" id="q2" min="0" max="3" value="0"></label>
    <label>3. Trouble falling or staying asleep, or sleeping too much: <input type="number" id="q3" min="0" max="3" value="0"></label>
    <label>4. Feeling tired or having little energy: <input type="number" id="q4" min="0" max="3" value="0"></label>
    <label>5. Poor appetite or overeating: <input type="number" id="q5" min="0" max="3" value="0"></label>
    <label>6. Feeling bad about yourselfâ€”or that you are a failure: <input type="number" id="q6" min="0" max="3" value="0"></label>
    <label>7. Trouble concentrating on things: <input type="number" id="q7" min="0" max="3" value="0"></label>
    <label>8. Moving or speaking slowly or being fidgety/restless: <input type="number" id="q8" min="0" max="3" value="0"></label>
    <label>9. Thoughts that you'd be better off dead or of hurting yourself: <input type="number" id="q9" min="0" max="3" value="0"></label>

    <button type="button" onclick="calculateRisk()">Calculate Risk</button>
  </form>

  <div class="output" id="result"></div>

  <script>
    function calculateRisk() {
      let score = 0;

      const height = parseFloat(document.getElementById('height').value);
      const weight = parseFloat(document.getElementById('weight').value);
      const bmi = (weight / (height * height)) * 703;

      const a1c = parseFloat(document.getElementById('a1c').value);
      const bp = parseInt(document.getElementById('bp').value);
      const vitd = parseFloat(document.getElementById('vitd').value);
      const dense = document.getElementById('dense').checked;
      const family = document.getElementById('family').checked;
      const nulliparous = document.getElementById('nulliparous').checked;
      const hrt = document.getElementById('hrt').checked;
      const menarche = parseInt(document.getElementById('menarche').value);
      const alcohol = parseInt(document.getElementById('alcohol').value);

      const phq = ['q1','q2','q3','q4','q5','q6','q7','q8','q9']
                  .map(id => parseInt(document.getElementById(id).value))
                  .reduce((a,b) => a + b, 0);

      if (bmi >= 30) score += 2.5;
      else if (bmi >= 25) score += 1.5;
      else if (bmi < 18.5) score += 0.5;

      if (a1c >= 6.5) score += 2.0;
      else if (a1c >= 5.7) score += 1.0;

      if (bp >= 140) score += 1.0;
      else if (bp >= 120) score += 0.5;

      if (vitd < 20) score += 1.5;
      else if (vitd < 30) score += 0.5;

      if (phq >= 10) score += 0.5;

      if (dense) score += 2.0;
      if (family) score += 2.0;
      if (nulliparous) score += 1.0;
      if (hrt) score += 1.5;
      if (menarche < 12) score += 1.0;

      if (alcohol >= 7) score += 1.5;
      else if (alcohol >= 3) score += 1.0;
      else if (alcohol >= 1) score += 0.5;

      if (score > 10) score = 10;

      let absoluteRisk = 10;
      if (score <= 2.0) absoluteRisk = 10;
      else if (score <= 4.0) absoluteRisk = 15;
      else if (score <= 6.0) absoluteRisk = 20;
      else if (score <= 8.0) absoluteRisk = 30;
      else absoluteRisk = 40;

      let riskClass = 'low';
      if (absoluteRisk >= 20 && absoluteRisk < 30) riskClass = 'moderate';
      else if (absoluteRisk >= 30) riskClass = 'high';

      document.getElementById('result').innerHTML = `
        <p><strong>BMI:</strong> ${bmi.toFixed(1)}</p>
        <p><strong>PHQ-9 Score:</strong> ${phq} (Depression severity may correlate with breast cancer risk due to chronic inflammation, hormone imbalance, and lifestyle factors.)</p>
        <p>Relative Risk Score: <strong>${score.toFixed(1)} / 10</strong><br>
        Estimated Lifetime Breast Cancer Risk: <strong class="${riskClass}">${absoluteRisk}%</strong></p>
        <p>This score represents an estimate of relative lifetime risk. A woman with elevated risk factors may wish to consult her healthcare provider about the timing and frequency of mammograms. Women with low risk may discuss alternative monitoring or screening intervals. Decisions should always consider personal values, medical history, and evolving science.</p>
      `;
    }
  </script>
</body>
</html>
