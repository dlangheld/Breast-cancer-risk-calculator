
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Breast Cancer Risk Calculator</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        label { display: block; margin-top: 10px; }
        .result { margin-top: 20px; font-weight: bold; }
        .note { font-size: 0.9em; color: gray; margin-top: 10px; }
    </style>
</head>
<body>
    <h1>Breast Cancer Risk Calculator</h1>
    <form id="riskForm">
        <label>Age: <input type="number" id="age" required></label>
        <label>Do you engage in ≥150 min/week moderate or ≥75 min/week vigorous activity? 
            <select id="activity">
                <option value="no">No</option>
                <option value="yes">Yes</option>
            </select>
        </label>
        <label>Vitamin D Level (ng/mL): <input type="number" id="vitd"></label>
        <label>Alcohol drinks per week: <input type="number" id="alcohol"></label>
        <label>BMI: <input type="number" id="bmi"></label>
        <button type="button" onclick="calculateRisk()">Calculate Risk</button>
    </form>

    <div class="result" id="riskResult"></div>
    <div class="note">
        <p><strong>Note:</strong> This tool integrates lifestyle choices and risk factors. There is no artificial minimum on risk output. If your result appears extremely low or even negative, it's a mathematical indication that your lifestyle reduces risk beyond average population baselines. True zero risk is biologically implausible, and the lowest known lifetime risk in population studies is estimated around 3–5%.</p>
    </div>

    <script>
        function calculateRisk() {
            const age = parseFloat(document.getElementById('age').value);
            const activity = document.getElementById('activity').value;
            const vitd = parseFloat(document.getElementById('vitd').value);
            const alcohol = parseFloat(document.getElementById('alcohol').value);
            const bmi = parseFloat(document.getElementById('bmi').value);

            let baseRisk = age < 50 ? 10 : 12; // simple placeholder base risk
            let modifiableReduction = 0;

            if (activity === "yes") modifiableReduction += 0.20 * baseRisk;
            if (vitd >= 50 && vitd <= 80) modifiableReduction += 0.25 * baseRisk;
            if (alcohol > 0) baseRisk += alcohol * 0.3;
            if (bmi >= 18.5 && bmi <= 24.9) modifiableReduction += 0.15 * baseRisk;

            let finalRisk = baseRisk - modifiableReduction;
            const relativeRiskScore = (finalRisk / 12) * 10; // normalized to a 10-point scale

            const resultElement = document.getElementById('riskResult');
            resultElement.innerHTML = `Estimated Lifetime Breast Cancer Risk: ${finalRisk.toFixed(2)}%<br>
                                       Relative Risk Score (0–10 scale): ${relativeRiskScore.toFixed(1)}`;
        }
    </script>
</body>
</html>
